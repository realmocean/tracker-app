import {
    UIController, UIScene, Text, bindState, IconLibrary, ForEach, VStack,
    Icon, cTop, Color, cLeading, UIImage, HStack, IconType, cLeft,
    UIRouteOutlet, UIRouteLink, UIRoutes, UIRoute, ScrollView, cVertical, PositionTypes
} from '@tuval/forms';
import { TrackerDashboardController } from '../dashboard/Controllers/TrackerDashboardController';
import { TrackerErrorsPageController } from '../errors/Controllers/ErrorsPageController';
import { TrackerRecentPageController } from '../recent/Controllers/RecentPageController';
import { cTopLeading, Spacer } from '@tuval/forms';
import { ErrorItemDetailController } from '../errors/Controllers/ErrorItemDetailController';
import { PortalMenu } from '../Views/PortalMenu';
import { TenantsPageController } from '../tenants/Controllers/TenantsPageController';
import { TenantDetailController } from '../tenants/Controllers/TenantDetailController';
import { MainRoute } from '../Views/MainRoute';

const logo = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgdmVyc2lvbj0iMS4xIgogICB3aWR0aD0iMjIxLjgwMTcxIgogICBoZWlnaHQ9IjE5Ny4wODUxIgogICB2aWV3Qm94PSIwIDAgMjIxLjgwMTcxIDE5Ny4wODUxIgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpZD0ic3ZnODciCiAgIHNvZGlwb2RpOmRvY25hbWU9ImxvZ29fcHJvY2V0cmFfLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4xLjIgKGI4ZTI1YmU4LCAyMDIyLTAyLTA1KSIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48c29kaXBvZGk6bmFtZWR2aWV3CiAgIGlkPSJuYW1lZHZpZXcyMCIKICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIgogICBzaG93Z3JpZD0iZmFsc2UiCiAgIGlua3NjYXBlOnpvb209IjAuNzY3IgogICBpbmtzY2FwZTpjeD0iMjE4LjM4MzMxIgogICBpbmtzY2FwZTpjeT0iOTguNDM1NDYzIgogICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEyODAiCiAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijc0NyIKICAgaW5rc2NhcGU6d2luZG93LXg9IjE0NTQiCiAgIGlua3NjYXBlOndpbmRvdy15PSIxNjIiCiAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiCiAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2Zzg3IiAvPgo8ZGVzYwogICBpZD0iZGVzYzY2Ij5DcmVhdGVkIHdpdGggRmFicmljLmpzIDMuNS4wPC9kZXNjPgo8ZGVmcwogICBpZD0iZGVmczY4Ij4KPC9kZWZzPgoKPGcKICAgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNzk4LDAsMCwxLjA3OTgsMTEwLjkwMDg2LDk4LjU0MjU0OCkiCiAgIGlkPSJMYXllcl8xIj4KPHBhdGgKICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOiNkMDNmNDA7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MCIKICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyMS44OTUsLTI5Ny42NCkiCiAgIGQ9Ik0gNDEyLjM3LDM4OC45IEggMjMyLjQyIGMgLTcuMzEsMCAtMTMuMjMsLTUuOTIgLTEzLjIzLC0xMy4yMyBWIDIxOS42MSBjIDAsLTcuMzEgNS45MiwtMTMuMjMgMTMuMjMsLTEzLjIzIGggMTc4Ljk1IGMgNy4zMSwwIDEzLjIzLDUuOTIgMTMuMjMsMTMuMjMgdiAxNTcuMDYgYyAtMC4wMSw2Ljc1IC01LjQ4LDEyLjIzIC0xMi4yMywxMi4yMyB6IgogICBzdHJva2UtbGluZWNhcD0icm91bmQiCiAgIGlkPSJwYXRoNzIiIC8+CjwvZz4KPGcKICAgdHJhbnNmb3JtPSJtYXRyaXgoMS4wNzk4LDAsMCwxLjA3OTgsMTEwLjg5MTE2LDk4LjA4NzU0OCkiCiAgIGlkPSJnNzciPgo8cGF0aAogICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2ZmZmZmZjtmaWxsLXJ1bGU6bm9uemVybztzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowIgogICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzIxLjg4NTYsLTI5Ny4yMTgyKSIKICAgZD0ibSA0MDQuMSwyNjYuMjcgYyAtMC4wOCwtNC4wNCAtMC4yNSwtOC4zMSAtMC45NiwtMTIuMjUgLTEuNzksLTkuOTggLTYuMzMsLTE3LjI2IC0xMy44NywtMjIuMjcgLTUuODUsLTMuODggLTEyLjcxLC01LjY5IC0yMS41NiwtNS42OSAtMjEuMTUsMC4wMiAtNDIuMjQsMC4wMyAtNjMuMzMsMC4wMyBoIC01Mi42OSBjIC02LjcsMCAtMTIuMTMsNS45OSAtMTIuMTMsMTMuMzggdiAxMjQuNjIgYyAwLDIuMzUgMS43Miw0LjI1IDMuODUsNC4yNSBoIDE1Ljc3IGMgMi4xMywwIDMuODUsMC40NiAzLjg1LC0xLjg5IHYgLTMxLjAzIGMgMCwtMC40NCAwLjA0LC0wLjg2IDAuMTIsLTEuMjggdiAtMzUuODYgLTEwLjQxIC0zMi45MSBjIDAsLTMuNjggMi42MSwtNi43MSA1Ljk0LC02LjkxIHYgMCBjIDAuNSwtMC4wMyAwLjk2LC0wLjA2IDEuNDIsLTAuMDYgaCAxMC4yNiAyOS44NyBjIDE2LjMzLDAgMzIuNjcsMCA0OS4wMSwtMC4wMiA1LjI5LDAgOS42NCwxLjMzIDEzLjM0LDQuMDYgNS4yMiwzLjg1IDguMDEsOS40OCA4LjA3LDE2LjI3IDAuMDUsNi4xIDAuMDUsMTEuMTUgMCwxNS44OSAtMC4xMiwxMC44MiAtNy4wNiwxOS4wNiAtMTYuODcsMjAuMDQgLTIuMDQsMC4yIC00LjA2LDAuMzEgLTYuMDIsMC4zMSAtMTAuMjksMC4wMSAtMjAuNTksMC4wMSAtMzAuODgsMC4wMSAtNS41NywwIC0xMC4wOCw0Ljk4IC0xMC4wOCwxMS4xMiB2IDAgYyAwLDYuMTUgNC41MSwxMS4xMyAxMC4wOSwxMS4xMiAxMS40OCwtMC4wMSAyOS44MywtMC4wNCAzOC45NiwtMC4wOCA0LjU0LC0wLjAyIDkuMTMsLTAuNTYgMTMuNjUsLTEuNjEgOS4wNCwtMi4xIDE1LjQ4LC03LjA0IDE5LjY4LC0xNS4xIDIuOSwtNS41NyA0LjM4LC0xMi4xIDQuNTMsLTE5Ljk5IDAuMTIsLTguMzcgMC4xMywtMTYuMTQgLTAuMDIsLTIzLjc0IHoiCiAgIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIKICAgaWQ9InBhdGg3NSIgLz4KPC9nPgo8ZwogICB0cmFuc2Zvcm09Im1hdHJpeCgxLjA3OTgsMCwwLDEuMDc5OCw2NC44Mzc2NTksMTY5Ljg0NTA1KSIKICAgaWQ9Imc4MSI+CjxwYXRoCiAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDojZmZmZmZmO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjAiCiAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzkuMjM1LC0zNjMuNjcpIgogICBkPSJtIDI5MC44NSwzNjkuMjIgdiAtMC4zNiBjIC0wLjk2LC02LjExIC01Ljc4LC0xMC43NSAtMTEuNTksLTEwLjc1IC01LjkzLDAgLTEwLjgxLDQuODMgLTExLjY0LDExLjEyIGggMjMuMjMgeiIKICAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogICBpZD0icGF0aDc5IiAvPgo8L2c+CjxnCiAgIHRyYW5zZm9ybT0ibWF0cml4KDEuMDc5OCwwLDAsMS4wNzk4LDEzMi4yODYxNiwxMTkuMTQxMDUpIgogICBpZD0iZzg1Ij4KPHBhdGgKICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOiNmZmZmZmY7ZmlsbC1ydWxlOm5vbnplcm87c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MCIKICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0MS42OTg4LC0zMTYuNzE1KSIKICAgZD0ibSA0MDQuMjMsMzQ2LjM0IGggLTEuNjEgLTI5Ljg3IGMgLTE2LjMzLDAgLTMyLjY3LDAgLTQ5LjAxLDAuMDIgLTUuMjksMCAtOS42NCwtMS4zMyAtMTMuMzQsLTQuMDYgLTUuMjIsLTMuODUgLTguMDEsLTExLjg0IC04LjA3LC0xOC42MyAtMC4wNSwtNi4xIC0wLjA1LC0xMS4xNSAwLC0xNS44OSAwLjEyLC0xMC44MiA3LjA2LC0xOS4wNiAxNi44NywtMjAuMDUgMi4wNCwtMC4yIDQuMDYsLTAuMzEgNi4wMiwtMC4zMSAxMC4xNywtMC4wMSAyMC4zNCwtMC4wMSAzMC41MSwtMC4wMSA0Ljg1LDAgOS4zLC0zLjU4IDEwLjI1LC04LjgzIDEuMjksLTcuMTUgLTMuNjMsLTEzLjQyIC05Ljg4LC0xMy40MSAtMTEuNDgsMC4wMSAtMjkuODMsMC4wNCAtMzguOTYsMC4wOCAtNC41NCwwLjAyIC05LjEzLDAuNTYgLTEzLjY1LDEuNjEgLTkuMDQsMi4xIC0xNS40OCw3LjA0IC0xOS42OCwxNS4xIC0yLjksNS41NyAtNC4zOCwxMi4xIC00LjUzLDE5Ljk5IC0wLjE1LDguMzcgLTAuMTUsMTYuMTMgMCwyMy43MyAwLjA4LDQuMDQgMC4yNSwxMC42NyAwLjk2LDE0LjYxIDEuNzksOS45OCA2LjMzLDE3LjI2IDEzLjg3LDIyLjI3IDUuODUsMy44OCAxMi43MSw1LjcgMjEuNTYsNS43IDIxLjE1LC0wLjAyIDQyLjI0LC0wLjAzIDYzLjMzLC0wLjAzIGggNS4zNyBjIDEwLjk2LDAuMDIgMTkuODYsLTkuNzkgMTkuODYsLTIxLjg5IHoiCiAgIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIKICAgaWQ9InBhdGg4MyIgLz4KPC9nPgo8L3N2Zz4K';


const titleColor = 'rgb(208, 63, 64)';
const menuColor = '#212932';
const selectedMenuBackColor = 'rgba(235,240,249,.2)';
const subMenuColor = '#52565b';
const menuBorderColor = '#e7b54a'
const menuHoverColor = '#eee'
const hoverTextColor = '#333'
const subMenuShadow = 'inset 24px 0 20px -20px #373b40';
const titleShadow = '0 1px 5px 1px rgb(0 0 0 / 30%)';

const icon = 'data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NSA2NSI+CiAgPGc+CiAgICA8Zz4KICAgICAgPHBhdGggZD0iTTQ0LjIyLDYuOTFIMTkuNjRhNC41LDQuNSwwLDAsMC00LjMsNC42NlY1My40M2E0LjQ5LDQuNDksMCwwLDAsNC4zLDQuNjVINDkuNzlhNC40OSw0LjQ5LDAsMCwwLDQuMzEtNC42NVYxNy41OEw0NC4yMiw2LjkyWk0xOS42NCw1My40M1YxMS41N0g0MS4xOHY5LjNoOC42MVY1My40M1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDApIiBzdHlsZT0iZmlsbDogIzIxMjkzMiIvPgogICAgICA8cGF0aCBkPSJNNiwzMi41M0E5LjI0LDkuMjQsMCwwLDEsNy45MywzNGE3LjEsNy4xLDAsMCwxLDEuNDgsMi4xMSwxMS44MiwxMS44MiwwLDAsMSwuOTEsMywyNi4xMSwyNi4xMSwwLDAsMSwuMyw0LjI2djcuMThjMCwyLjEuMDUsMy44Ni4xMyw1LjI2YTguMzMsOC4zMywwLDAsMCwuODQsMy40MiwzLjkxLDMuOTEsMCwwLDAsMi4xOSwxLjg1LDEyLjkyLDEyLjkyLDAsMCwwLDQuMjMuNTRWNjVoLS41M2ExNi44MiwxNi44MiwwLDAsMS01LjM4LS43NCw3Ljc5LDcuNzksMCwwLDEtMy40LTIuMTRBOC4wOSw4LjA5LDAsMCwxLDcsNTguNTlhMjAuNCwyMC40LDAsMCwxLS41MS00Ljc5di0xM2E3LjgzLDcuODMsMCwwLDAtLjM3LTIuMzgsNiw2LDAsMCwwLTEuMTctMi4xMSw2LjM1LDYuMzUsMCwwLDAtMi0xLjU0QTYuNDUsNi40NSwwLDAsMCwwLDM0LjE0VjMwLjg2YTYuMzIsNi4zMiwwLDAsMCwyLjg5LS42MSw2LjM1LDYuMzUsMCwwLDAsMi0xLjU0QTYsNiwwLDAsMCw2LjA4LDI2LjZhNy44Myw3LjgzLDAsMCwwLC4zNy0yLjM4di0xM0EyMC40NSwyMC40NSwwLDAsMSw3LDYuMzcsOC4xLDguMSwwLDAsMSw4LjcsMi44OCw3Ljc0LDcuNzQsMCwwLDEsMTIuMS43NCwxNi44MiwxNi44MiwwLDAsMSwxNy40OCwwSDE4VjMuMzVhMTIuOTIsMTIuOTIsMCwwLDAtNC4yMy41NCwzLjkxLDMuOTEsMCwwLDAtMi4xOSwxLjg1LDguMzMsOC4zMywwLDAsMC0uODQsMy40MmMtLjA5LDEuNDEtLjEzLDMuMTYtLjEzLDUuMjZWMjEuNmEyNi41OSwyNi41OSwwLDAsMS0uMyw0LjI5QTExLjc4LDExLjc4LDAsMCwxLDkuNDEsMjlhNy4xLDcuMSwwLDAsMS0xLjQ4LDIuMTFBOS4xOSw5LjE5LDAsMCwxLDYsMzIuNTNabTU3LjUxLDBhOS41LDkuNSwwLDAsMC0yLDEuNDUsNy4xLDcuMSwwLDAsMC0xLjQ4LDIuMTEsMTIuMjIsMTIuMjIsMCwwLDAtLjkxLDMsMjYuMTEsMjYuMTEsMCwwLDAtLjMsNC4yNnY3LjE4YzAsMi4xLDAsMy44Ni0uMTMsNS4yNmE4LjMzLDguMzMsMCwwLDEtLjg0LDMuNDIsMy44NywzLjg3LDAsMCwxLTIuMTksMS44NSwxMi44OCwxMi44OCwwLDAsMS00LjIzLjU0VjY1SDUyYTE2Ljc2LDE2Ljc2LDAsMCwwLDUuMzctLjc0LDcuNzQsNy43NCwwLDAsMCwzLjQtMi4xNCw4LjEsOC4xLDAsMCwwLDEuNzUtMy41M0EyMSwyMSwwLDAsMCw2Myw1My44di0xM2E3LjgzLDcuODMsMCwwLDEsLjM3LTIuMzgsNS44OCw1Ljg4LDAsMCwxLDEuMTgtMi4xMSw2LjMxLDYuMzEsMCwwLDEsMi0xLjU0LDYuNDUsNi40NSwwLDAsMSwyLjg5LS42MVYzMC44NmE2LjIxLDYuMjEsMCwwLDEtNC45LTIuMTUsNS44OCw1Ljg4LDAsMCwxLTEuMTgtMi4xMUE3LjczLDcuNzMsMCwwLDEsNjMsMjQuMjJ2LTEzYTIxLDIxLDAsMCwwLS41LTQuODMsOC4xMSw4LjExLDAsMCwwLTEuNzUtMy40OUE3Ljc0LDcuNzQsMCwwLDAsNTcuMzcuNzQsMTYuNzYsMTYuNzYsMCwwLDAsNTIsMGgtLjU0VjMuMzVhMTIuODQsMTIuODQsMCwwLDEsNC4yMy41NCwzLjg3LDMuODcsMCwwLDEsMi4xOSwxLjg1LDguMzMsOC4zMywwLDAsMSwuODQsMy40MmMuMDksMS40MS4xMywzLjE2LjEzLDUuMjZWMjEuNmEyNi41OSwyNi41OSwwLDAsMCwuMyw0LjI5QTEyLjE4LDEyLjE4LDAsMCwwLDYwLjA2LDI5YTcuMjksNy4yOSwwLDAsMCwxLjQ4LDIuMTEsOS40NSw5LjQ1LDAsMCwwLDIsMS40NFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDApIiBzdHlsZT0iZmlsbDogIzIxMjkzMiIvPgogICAgPC9nPgogICAgPGc+CiAgICAgIDxlbGxpcHNlIGN4PSIzOS44IiBjeT0iNDYuNTUiIHJ4PSIxNi45NyIgcnk9IjE2Ljk0IiBzdHlsZT0iZmlsbDogI2QwM2Y0MCIvPgogICAgICA8cGF0aCBkPSJNMzYuOTIsMzUuNTVoNi41NVY0MC42TDQyLjIsNTAuNzZIMzguMTVMMzYuOTIsNDAuNlYzNS41NVptLjIzLDE2Ljc2aDYuMTF2NS40M0gzNy4xNVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDApIiBzdHlsZT0iZmlsbDogI2ZmZiIvPgogICAgPC9nPgogICA8L2c+CiAgCjwvc3ZnPgo=';

export class AppController extends UIController {

    protected BindRouterParams() {

    }

    public LoadView() {
        const [selectedIndex, setSelectedIndex] = bindState(0);
        return (
            VStack({ alignment: cTop })(
                HStack(
                    UIImage(icon).width(25).height(25).position(PositionTypes.Absolute).left('10px').top('10px').filter('drop-shadow(3px 5px 4px rgb(0, 0, 0, 30%))'),
                    Text('Tracker').foregroundColor(Color.white).fontWeight('bold').fontSize(16),
                ).background('rgb(208, 63, 64)').height(50),
                HStack({ alignment: cLeading })(
                    Text('Tracker').foregroundColor(Color.white).fontWeight('bold').fontSize(22)
                ).height(60).minHeight('60px').background(titleColor).padding(cLeft, 10).visible(false),
                HStack(Text('')).height(50).minHeight('50px').background(menuColor)
                    .shadow(titleShadow).zIndex(1),
                HStack(
                    //UIRouteOutlet().width('100%').height('100%')

                    HStack({ alignment: cTopLeading })(
                        MainRoute()
                    ).background(Color.white)
                )
            )
        )
    }
}